{% extends "base.html" %}
{% block content %}
<h1>Editar Producto</h1>
<form method="POST" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    
    <div class="form-group mb-3">
        <label for="{{ form.name.id }}" class="form-label">{{ form.name.label }}</label>
        {{ form.name(class="form-control", size=32) }}
    </div>
    

    <div class="form-group mb-3">
        <label for="{{ form.precio.id }}" class="form-label">{{ form.precio.label }}</label>
        {{ form.precio(class="form-control") }}
    </div>
    
    <h3 class="mt-4">Imágenes del Producto</h3>
    <div class="mb-3">
        {% if producto.imagenes and producto.imagenes %}
            <div class="d-flex flex-wrap gap-3">
                {% for i, imagen in enumerate(producto.imagenes) %}
                    <div class="text-center">
                        <p>Imagen actual {{ i+1 }}:</p>
                        <img src="/productos/imagenes/{{ imagen }}" alt="Imagen actual" class="img-fluid" width="150" height="100">
                        <p>{{ form.imagenes[i].label }} (reemplazar):</p>
                        {{ form.imagenes[i](class="form-control-file") }}
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p>No hay imágenes para este producto.</p>
        {% endif %}
    </div>

    <div class="mb-3">
        {{ form.submit(class="btn btn-primary") }}
    </div>
</form>
{% endblock %}
